(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{67:function(){},2061:function(){},4142:function(e,t,a){Promise.resolve().then(a.bind(a,7282))},2298:function(e,t,a){"use strict";a.d(t,{AppProvider:function(){return r},b:function(){return l}});var n=a(7437),s=a(2265);let i=(0,s.createContext)(void 0),r=e=>{let{children:t}=e,[a,r]=(0,s.useState)([]),[l,o]=(0,s.useState)([]),[d,c]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[x,h]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("partners"),t=localStorage.getItem("customers"),a=localStorage.getItem("entitlements"),n=localStorage.getItem("payments"),s=localStorage.getItem("cancellationDeductions");e&&r(JSON.parse(e)),t&&o(JSON.parse(t)),a&&c(JSON.parse(a)),n&&u(JSON.parse(n)),s&&h(JSON.parse(s))},[]),(0,s.useEffect)(()=>{localStorage.setItem("partners",JSON.stringify(a))},[a]),(0,s.useEffect)(()=>{localStorage.setItem("customers",JSON.stringify(l))},[l]),(0,s.useEffect)(()=>{localStorage.setItem("entitlements",JSON.stringify(d))},[d]),(0,s.useEffect)(()=>{localStorage.setItem("payments",JSON.stringify(m))},[m]),(0,s.useEffect)(()=>{localStorage.setItem("cancellationDeductions",JSON.stringify(x))},[x]),(0,n.jsx)(i.Provider,{value:{partners:a,setPartners:r,customers:l,setCustomers:o,entitlements:d,setEntitlements:c,payments:m,setPayments:u,cancellationDeductions:x,setCancellationDeductions:h},children:t})},l=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},7282:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var n=a(7437),s=a(2265),i=a(2298),r=a(2869),l=a(5186),o=a(2093),d=a(7992),c=a(5243),m=a(7689),u=a(7625),x=a(875),h=a(9397),p=a(8930),f=a(4430),y=a(3578),j=a(3643),b=a(4508);let g=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,n.jsxs)(j.fC,{ref:t,className:(0,b.cn)("relative overflow-hidden",a),...i,children:[(0,n.jsx)(j.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,n.jsx)(N,{}),(0,n.jsx)(j.Ns,{})]})});g.displayName=j.fC.displayName;let N=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,n.jsx)(j.gb,{ref:t,orientation:s,className:(0,b.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,n.jsx)(j.q4,{className:"relative flex-1 rounded-full bg-border"})})});N.displayName=j.gb.displayName;var v=a(1312);let A=v.fC,w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(v.aV,{ref:t,className:(0,b.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});w.displayName=v.aV.displayName;let T=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(v.xz,{ref:t,className:(0,b.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});T.displayName=v.xz.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(v.VY,{ref:t,className:(0,b.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});S.displayName=v.VY.displayName;var I=a(6815),k=a(9376);function D(){var e;let{partners:t,setPartners:a,customers:j,entitlements:b,setEntitlements:N,cancellationDeductions:v,setCancellationDeductions:D,payments:C,setPayments:z}=(0,i.b)(),[F,R]=(0,s.useState)(null),[_,O]=(0,s.useState)(null),[E,M]=(0,s.useState)(!1),[B,K]=(0,s.useState)(null),[H,V]=(0,s.useState)(!1),[Y,J]=(0,s.useState)(null),[P,U]=(0,s.useState)(!1),[G,Z]=(0,s.useState)(0),[L,q]=(0,s.useState)(null),[W,X]=(0,s.useState)(null),[Q,$]=(0,s.useState)(null),ee=(0,k.useRouter)(),et=(0,s.useMemo)(()=>{let e={};return b.forEach(a=>{let n=t.find(e=>e.id===a.partnerId);if(!n)return;let s="".concat(n.id,"-").concat(a.date);e[s]||(e[s]={partnerId:n.id,partnerName:n.name,date:a.date,bireysel:{totalAmount:0,commissionAmount:0,customers:[]},hayat:{totalAmount:0,commissionAmount:0,customers:[]},cancellationDeduction:v.filter(e=>e.partnerId===n.id&&e.date===a.date).reduce((e,t)=>e+t.amount,0)});let i=j.find(e=>e.id===a.customerId);i&&(e[s][a.type].customers.push({name:i.name,amount:a.amount,commissionAmount:a.commissionAmount}),e[s][a.type].totalAmount+=a.amount,e[s][a.type].commissionAmount+=a.commissionAmount)}),Object.values(e).sort((e,t)=>{let a=e.partnerName.localeCompare(t.partnerName);return 0!==a?a:new Date(t.date).getTime()-new Date(e.date).getTime()})},[b,j,t,v]),ea=(e,t)=>C.some(a=>a.partnerId===e&&a.entitlementDate===t),en=(e,t)=>{e.target.files&&("bireysel"===t?R(e.target.files[0]):O(e.target.files[0]))},es=e=>{let n="bireysel"===e?F:_;if(n){let s=new FileReader;s.onload=n=>{var s;let i=null===(s=n.target)||void 0===s?void 0:s.result,r=o.ij(i,{type:"array"}),l=r.SheetNames[0],c=r.Sheets[l],m=o.P6.sheet_to_json(c).map(a=>{let n,s;"bireysel"===e?(n=a.MUSTERI_ADI,s=Number.parseFloat(a.KOMISYON_TUTARI)):(n=a.RPT_SIGORTALI,s=Number.parseFloat(a.KOMISYON_TUTARI_TL));let i=j.find(e=>e.name===n);if(!i)return null;let r=t.find(e=>e.id===i.partnerId);if(!r)return null;let l=r.commissionRate/100*s;return{id:Date.now()+Math.random(),partnerId:r.id,customerId:i.id,amount:s,commissionAmount:l,date:new Date().toISOString().split("T")[0],type:e}}).filter(e=>null!==e);N([...b,...m]),a(t.map(e=>{let t=m.filter(t=>t.partnerId===e.id).reduce((e,t)=>e+t.commissionAmount,0);return{...e,balance:e.balance+t}})),(0,d.Am)({title:"Başarılı",description:"".concat(m.length," yeni ").concat(e," hak ediş kaydedildi.")}),"bireysel"===e?R(null):O(null)},s.readAsArrayBuffer(n)}},ei=(e,t)=>{K({partnerId:e,date:t}),M(!0)},er=e=>{J(e),V(!0)},el=(e,t)=>{q(e),X(t),U(!0)},eo=(e,n,s)=>{let i=t.find(t=>t.id===e);if(i){let t={id:Date.now(),partnerId:e,amount:n,date:new Date().toISOString(),entitlementDate:s};z(e=>[...e,t]),a(t=>t.map(t=>t.id===e?{...t,balance:t.balance-n}:t)),(0,d.Am)({title:"\xd6deme Başarılı",description:"".concat(i.name," i\xe7in ").concat(n.toFixed(2),"₺ \xf6deme kaydedildi.")}),ee.push("/hak-edisler")}},ed=e=>et.find(t=>t.partnerId===e);return(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"space-y-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Hak Edişler"}),(0,n.jsxs)(A,{defaultValue:"bireysel",className:"w-full max-w-3xl min-h-[100px] bg-white shadow-lg rounded-lg p-4 relative mx-auto my-4",children:[(0,n.jsxs)(w,{className:"w-full max-w-1xl min-h-[20px]  relative mx-auto my-4",children:[(0,n.jsx)(T,{value:"bireysel",children:"Bireysel"}),(0,n.jsx)(T,{value:"hayat",children:"Hayat"})]}),(0,n.jsx)(S,{value:"bireysel",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-sm text-gray-500 flex justify-center items-center space-x-2",children:'Bireysel sigortası Excel dosyası i\xe7in "MUSTERI_ADI" ve "KOMISYON_TUTARI" s\xfctunları gereklidir.'}),(0,n.jsx)("div",{className:"flex justify-center items-center space-x-2",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(l.I,{type:"file",accept:".xlsx, .xls",onChange:e=>en(e,"bireysel"),className:"w-64"}),(0,n.jsxs)(r.z,{onClick:()=>es("bireysel"),disabled:!F,children:[(0,n.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Bireysel Excel'i İşle"]})]})})]})}),(0,n.jsx)(S,{value:"hayat",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-sm text-gray-500 flex justify-center items-center space-x-2",children:'Hayat sigortası Excel dosyası i\xe7in "RPT_SIGORTALI" ve "KOMISYON_TUTARI_TL" s\xfctunları gereklidir.'}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,n.jsx)(l.I,{type:"file",accept:".xlsx, .xls",onChange:e=>en(e,"hayat"),className:"w-64"}),(0,n.jsxs)(r.z,{onClick:()=>es("hayat"),disabled:!_,children:[(0,n.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Hayat Excel'i İşle"]})]})]})})]}),(0,n.jsx)(f.u_,{open:E,onOpenChange:M,children:(0,n.jsxs)(f.hz,{children:[(0,n.jsx)(f.xB,{children:(0,n.jsx)(f.r6,{children:"Hak Edişi Sil"})}),(0,n.jsx)("div",{className:"py-4",children:(0,n.jsx)("p",{children:"Bu hak edişi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})}),(0,n.jsxs)(f.mz,{children:[(0,n.jsx)(r.z,{variant:"outline",onClick:()=>M(!1),children:"İptal"}),(0,n.jsx)(r.z,{variant:"destructive",onClick:()=>{if(B){var e,n,s;let{partnerId:i,date:r}=B;N(b.filter(e=>!(e.partnerId===i&&e.date===r)));let l=(null===(e=et.find(e=>e.partnerId===i&&e.date===r))||void 0===e?void 0:e.bireysel.commissionAmount)+(null===(n=et.find(e=>e.partnerId===i&&e.date===r))||void 0===n?void 0:n.hayat.commissionAmount)-(null===(s=et.find(e=>e.partnerId===i&&e.date===r))||void 0===s?void 0:s.cancellationDeduction)||0;a(t.map(e=>e.id===i?{...e,balance:e.balance-l}:e)),M(!1),K(null),(0,d.Am)({title:"Başarılı",description:"Hak ediş başarıyla silindi.",duration:3e3})}},children:"Sil"})]})]})}),(0,n.jsx)(f.u_,{open:H,onOpenChange:V,children:(0,n.jsxs)(f.hz,{className:"max-w-4xl",children:[(0,n.jsx)(f.xB,{children:(0,n.jsx)(f.r6,{children:"Hak Ediş Detayları"})}),(0,n.jsx)("div",{className:"py-4",children:null!==Y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:null===(e=t.find(e=>e.id===Y))||void 0===e?void 0:e.name}),et.filter(e=>e.partnerId===Y).map((e,t)=>(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Hesaplanma Tarihi: ",e.date]}),(0,n.jsxs)(A,{defaultValue:"bireysel",children:[(0,n.jsxs)(w,{children:[(0,n.jsx)(T,{value:"bireysel",children:"Bireysel"}),(0,n.jsx)(T,{value:"hayat",children:"Hayat"})]}),(0,n.jsxs)(S,{value:"bireysel",children:[(0,n.jsx)(g,{className:"h-[300px] rounded-md border",children:(0,n.jsxs)(y.iA,{children:[(0,n.jsx)(y.xD,{children:(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.ss,{className:"w-[200px]",children:"M\xfcşteri"}),(0,n.jsx)(y.ss,{className:"text-right",children:"Tutar"}),(0,n.jsx)(y.ss,{className:"text-right",children:"Komisyon Tutarı"})]})}),(0,n.jsx)(y.RM,{children:e.bireysel.customers.map((e,t)=>(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.pj,{className:"font-medium",children:e.name}),(0,n.jsxs)(y.pj,{className:"text-right",children:["₺",e.amount.toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"text-right",children:["₺",e.commissionAmount.toFixed(2)]})]},"bireysel-".concat(t)))})]})}),(0,n.jsxs)("div",{className:"mt-2 font-bold text-right",children:[(0,n.jsxs)("p",{children:["Toplam Tutar: ₺",e.bireysel.totalAmount.toFixed(2)]}),(0,n.jsxs)("p",{children:["Toplam Komisyon: ₺",e.bireysel.commissionAmount.toFixed(2)]})]})]}),(0,n.jsxs)(S,{value:"hayat",children:[(0,n.jsx)(g,{className:"h-[300px] rounded-md border",children:(0,n.jsxs)(y.iA,{children:[(0,n.jsx)(y.xD,{children:(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.ss,{className:"w-[200px]",children:"M\xfcşteri"}),(0,n.jsx)(y.ss,{className:"text-right",children:"Tutar"}),(0,n.jsx)(y.ss,{className:"text-right",children:"Komisyon Tutarı"})]})}),(0,n.jsx)(y.RM,{children:e.hayat.customers.map((e,t)=>(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.pj,{className:"font-medium",children:e.name}),(0,n.jsxs)(y.pj,{className:"text-right",children:["₺",e.amount.toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"text-right",children:["₺",e.commissionAmount.toFixed(2)]})]},"hayat-".concat(t)))})]})}),(0,n.jsxs)("div",{className:"mt-2 font-bold text-right",children:[(0,n.jsxs)("p",{children:["Toplam Tutar: ₺",e.hayat.totalAmount.toFixed(2)]}),(0,n.jsxs)("p",{children:["Toplam Komisyon: ₺",e.hayat.commissionAmount.toFixed(2)]})]})]})]}),(0,n.jsxs)("div",{className:"mt-4 font-bold",children:[(0,n.jsx)("h4",{className:"text-lg",children:"Genel Toplam"}),(0,n.jsxs)("p",{children:["Toplam Tutar: ₺",(e.bireysel.totalAmount+e.hayat.totalAmount).toFixed(2)]}),(0,n.jsxs)("p",{children:["Toplam Komisyon: ₺",(e.bireysel.commissionAmount+e.hayat.commissionAmount-e.cancellationDeduction).toFixed(2)]}),(0,n.jsxs)("p",{children:["İptal Kesintisi: ₺",e.cancellationDeduction.toFixed(2)]})]})]},t))]})}),(0,n.jsxs)(f.mz,{children:[(0,n.jsx)(r.z,{variant:"outline",onClick:()=>V(!1),children:"Kapat"}),(0,n.jsxs)(r.z,{onClick:()=>{if(null!==Y){let e=t.find(e=>e.id===Y),a=et.filter(e=>e.partnerId===Y),n=window.open("","_blank");n&&(n.document.write("\n          <html>\n            <head>\n              <title>Hak Ediş Detayları - ".concat(null==e?void 0:e.name,"</title>\n              <style>\n                body { font-family: Arial, sans-serif; }\n                table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n                th { background-color: #f2f2f2; }\n                .total { font-weight: bold; }\n              </style>\n            </head>\n            <body>\n              <h1>Hak Ediş Detayları - ").concat(null==e?void 0:e.name,"</h1>\n              ").concat(a.map(e=>"\n                <h2>Hesaplanma Tarihi: ".concat(e.date,"</h2>\n                <h3>Bireysel</h3>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>M\xfcşteri</th>\n                      <th>Tutar</th>\n                      <th>Komisyon Tutarı</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    ").concat(e.bireysel.customers.map(e=>"\n                      <tr>\n                        <td>".concat(e.name,"</td>\n                        <td>₺").concat(e.amount.toFixed(2),"</td>\n                        <td>₺").concat(e.commissionAmount.toFixed(2),"</td>\n                      </tr>\n                    ")).join(""),'\n                    <tr class="total">\n                      <td>Toplam</td>\n                      <td>₺').concat(e.bireysel.totalAmount.toFixed(2),"</td>\n                      <td>₺").concat(e.bireysel.commissionAmount.toFixed(2),"</td>\n                    </tr>\n                  </tbody>\n                </table>\n                \n                <h3>Hayat</h3>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>M\xfcşteri</th>\n                      <th>Tutar</th>\n                      <th>Komisyon Tutarı</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    ").concat(e.hayat.customers.map(e=>"\n                      <tr>\n                        <td>".concat(e.name,"</td>\n                        <td>₺").concat(e.amount.toFixed(2),"</td>\n                        <td>₺").concat(e.commissionAmount.toFixed(2),"</td>\n                      </tr>\n                    ")).join(""),'\n                    <tr class="total">\n                      <td>Toplam</td>\n                      <td>₺').concat(e.hayat.totalAmount.toFixed(2),"</td>\n                      <td>₺").concat(e.hayat.commissionAmount.toFixed(2),"</td>\n                    </tr>\n                  </tbody>\n                </table>\n                \n                <h3>Genel Toplam</h3>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>T\xfcr</th>\n                      <th>Toplam Tutar</th>\n                      <th>Toplam Komisyon</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td>Bireysel</td>\n                      <td>₺").concat(e.bireysel.totalAmount.toFixed(2),"</td>\n                      <td>₺").concat(e.bireysel.commissionAmount.toFixed(2),"</td>\n                    </tr>\n                    <tr>\n                      <td>Hayat</td>\n                      <td>₺").concat(e.hayat.totalAmount.toFixed(2),"</td>\n                      <td>₺").concat(e.hayat.commissionAmount.toFixed(2),"</td>\n                    </tr>\n                    <tr>\n                      <td>İptal Kesintisi</td>\n                      <td>-</td>\n                      <td>₺").concat(e.cancellationDeduction.toFixed(2),'</td>\n                    </tr>\n                    <tr class="total">\n                      <td>Genel Toplam</td>\n                      <td>₺').concat((e.bireysel.totalAmount+e.hayat.totalAmount).toFixed(2),"</td>\n                      <td>₺").concat((e.bireysel.commissionAmount+e.hayat.commissionAmount-e.cancellationDeduction).toFixed(2),"</td>\n                    </tr>\n                  </tbody>\n                </table>\n              ")).join(""),"\n            </body>\n          </html>\n        ")),n.document.close(),n.print())}},children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Yazdır"]}),Y&&(()=>{let e=ed(Y);return e&&!ea(Y,e.date)?(0,n.jsx)(r.z,{onClick:()=>eo(Y,e.bireysel.commissionAmount+e.hayat.commissionAmount-e.cancellationDeduction,e.date),className:"ml-2",children:"\xd6deme Yap"}):null})()]})]})}),(0,n.jsx)(f.u_,{open:P,onOpenChange:U,children:(0,n.jsxs)(f.hz,{children:[(0,n.jsx)(f.xB,{children:(0,n.jsx)(f.r6,{children:"İptal Kesintisi Ekle"})}),(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsx)(I._,{htmlFor:"cancellationAmount",children:"Kesinti Tutarı"}),(0,n.jsx)(l.I,{id:"cancellationAmount",type:"number",value:G,onChange:e=>Z(Number(e.target.value))})]}),(0,n.jsxs)(f.mz,{children:[(0,n.jsx)(r.z,{variant:"outline",onClick:()=>U(!1),children:"İptal"}),(0,n.jsx)(r.z,{onClick:()=>{L&&W&&(D([...v,{id:Date.now(),partnerId:L,amount:G,date:W}]),a(t.map(e=>e.id===L?{...e,balance:e.balance-G}:e)),U(!1),Z(0),q(null),X(null),(0,d.Am)({title:"Başarılı",description:"İptal kesintisi başarıyla eklendi.",duration:3e3}),$("".concat(L,"-").concat(W)))},children:"Ekle"})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:et.map(e=>(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white shadow-lg rounded-lg p-4 relative",children:[ea(e.partnerId,e.date)&&(0,n.jsx)("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-2 py-1 rounded-bl-md  origin-top-right",children:"\xd6dendi"}),(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:e.partnerName}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("tr-TR")})]}),(0,n.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>$("".concat(e.partnerId,"-").concat(e.date)),className:"ml-2 p-1",children:(0,n.jsx)(x.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)(f.u_,{open:Q==="".concat(e.partnerId,"-").concat(e.date),onOpenChange:()=>$(null),children:(0,n.jsxs)(f.hz,{className:"max-w-3xl",children:[(0,n.jsx)(f.xB,{children:(0,n.jsxs)(f.r6,{children:[e.partnerName," - ",new Date(e.date).toLocaleDateString("tr-TR")]})}),(0,n.jsxs)("div",{className:"py-4 relative",children:[ea(e.partnerId,e.date)&&(0,n.jsx)("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-2 py-1 rounded-bl-md transform rotate-45 origin-top-right",children:"\xd6dendi"}),(0,n.jsxs)(y.iA,{className:"text-xs",children:[(0,n.jsx)(y.xD,{children:(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.ss,{className:"py-2",children:"T\xfcr"}),(0,n.jsx)(y.ss,{className:"py-2 text-right",children:"Toplam Tutar"}),(0,n.jsx)(y.ss,{className:"py-2 text-right",children:"Toplam Komisyon"})]})}),(0,n.jsxs)(y.RM,{children:[(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.pj,{className:"py-1",children:"Bireysel"}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.bireysel.totalAmount.toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.bireysel.commissionAmount.toFixed(2)]})]}),(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.pj,{className:"py-1",children:"Hayat"}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.hayat.totalAmount.toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.hayat.commissionAmount.toFixed(2)]})]}),(0,n.jsxs)(y.SC,{children:[(0,n.jsx)(y.pj,{className:"py-1",children:"İptal Kesintisi"}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.cancellationDeduction.toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",e.cancellationDeduction.toFixed(2)]})]}),(0,n.jsxs)(y.SC,{className:"font-bold",children:[(0,n.jsx)(y.pj,{className:"py-1",children:"Genel Toplam"}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",(e.bireysel.totalAmount+e.hayat.totalAmount-e.cancellationDeduction).toFixed(2)]}),(0,n.jsxs)(y.pj,{className:"py-1 text-right",children:["₺",(e.bireysel.commissionAmount+e.hayat.commissionAmount-e.cancellationDeduction).toFixed(2)]})]})]})]}),(0,n.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,n.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>el(e.partnerId,e.date),children:[(0,n.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),"İptal Kesintisi"]}),(0,n.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>er(e.partnerId),children:"Detaylar"}),(0,n.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>ei(e.partnerId,e.date),children:(0,n.jsx)(p.Z,{className:"h-3 w-3"})})]})]}),(0,n.jsxs)(f.mz,{children:[(0,n.jsx)(r.z,{variant:"outline",onClick:()=>$(null),children:"Kapat"}),!ea(e.partnerId,e.date)&&(0,n.jsx)(r.z,{onClick:()=>eo(e.partnerId,e.bireysel.commissionAmount+e.hayat.commissionAmount-e.cancellationDeduction,e.date),className:"ml-2",children:"\xd6dendi Yap"})]})]})})]},"".concat(e.partnerId,"-").concat(e.date)))})]})}},2869:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var n=a(7437),s=a(2265),i=a(7053),r=a(535),l=a(4508);let o=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:r,asChild:d=!1,...c}=e,m=d?i.g7:"button";return(0,n.jsx)(m,{className:(0,l.cn)(o({variant:s,size:r,className:a})),ref:t,...c})});d.displayName="Button"},5186:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});var n=a(7437),s=a(2265),i=a(4508);let r=s.forwardRef((e,t)=>{let{className:a,type:s,...r}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});r.displayName="Input"},6815:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var n=a(7437),s=a(2265),i=a(6394),r=a(535),l=a(4508);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(i.f,{ref:t,className:(0,l.cn)(o(),a),...s})});d.displayName=i.f.displayName},4430:function(e,t,a){"use strict";a.d(t,{hz:function(){return u},iq:function(){return d},mz:function(){return h},r6:function(){return p},u_:function(){return o},xB:function(){return x}});var n=a(7437),s=a(2265),i=a(9027),r=a(2489),l=a(4508);let o=i.fC,d=i.xz,c=i.h_;i.x8;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});m.displayName=i.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(m,{}),(0,n.jsxs)(i.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,n.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(r.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="ModalHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="ModalFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=i.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})}).displayName=i.dk.displayName},3578:function(e,t,a){"use strict";a.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return r},pj:function(){return m},ss:function(){return c},xD:function(){return l}});var n=a(7437),s=a(2265),i=a(4508);let r=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...s})})});r.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...s})});l.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},7992:function(e,t,a){"use strict";a.d(t,{Am:function(){return c}}),a(2265);let n=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},r=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],o={toasts:[]};function d(e){o=r(o,e),l.forEach(e=>{e(o)})}function c(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var n=a(1994),s=a(3335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[425,569,243,481,248,469,971,117,744],function(){return e(e.s=4142)}),_N_E=e.O()}]);