(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{9795:function(e,t,a){Promise.resolve().then(a.bind(a,5526))},2298:function(e,t,a){"use strict";a.d(t,{AppProvider:function(){return i},b:function(){return o}});var s=a(7437),n=a(2265);let r=(0,n.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[f,p]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=localStorage.getItem("partners"),t=localStorage.getItem("customers"),a=localStorage.getItem("entitlements"),s=localStorage.getItem("payments"),n=localStorage.getItem("cancellationDeductions");e&&i(JSON.parse(e)),t&&l(JSON.parse(t)),a&&c(JSON.parse(a)),s&&m(JSON.parse(s)),n&&p(JSON.parse(n))},[]),(0,n.useEffect)(()=>{localStorage.setItem("partners",JSON.stringify(a))},[a]),(0,n.useEffect)(()=>{localStorage.setItem("customers",JSON.stringify(o))},[o]),(0,n.useEffect)(()=>{localStorage.setItem("entitlements",JSON.stringify(d))},[d]),(0,n.useEffect)(()=>{localStorage.setItem("payments",JSON.stringify(u))},[u]),(0,n.useEffect)(()=>{localStorage.setItem("cancellationDeductions",JSON.stringify(f))},[f]),(0,s.jsx)(r.Provider,{value:{partners:a,setPartners:i,customers:o,setCustomers:l,entitlements:d,setEntitlements:c,payments:u,setPayments:m,cancellationDeductions:f,setCancellationDeductions:p},children:t})},o=()=>{let e=(0,n.useContext)(r);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},5526:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),n=a(2265),r=a(2298),i=a(2869),o=a(5186),l=a(6815),d=a(4430),c=a(5243),u=a(7992);let m=(0,a(9205).Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var f=a(8930);function p(){let{partners:e,setPartners:t}=(0,r.b)(),[a,p]=(0,n.useState)({name:"",commissionRate:0}),[g,x]=(0,n.useState)(!1),[h,v]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[S,k]=(0,n.useState)(0),O=e=>{y(e),v(!0)},w=a=>{t(e.map(e=>{var t;return e.id===a?{...e,commissionRate:S,balance:null!==(t=e.balance)&&void 0!==t?t:0}:e})),N(null),k(0),(0,u.Am)({title:"Başarılı",description:"Komisyon oranı başarıyla g\xfcncellendi.",duration:3e3})};return(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"İş Ortakları"}),(0,s.jsxs)(d.u_,{open:g,onOpenChange:x,children:[(0,s.jsx)(d.iq,{asChild:!0,children:(0,s.jsx)(i.z,{onClick:()=>x(!0),children:"Yeni İş Ortağı Ekle"})}),(0,s.jsxs)(d.hz,{children:[(0,s.jsx)(d.xB,{children:(0,s.jsx)(d.r6,{children:"Yeni İş Ortağı Ekle"})}),(0,s.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"name",children:"İsim"}),(0,s.jsx)(o.I,{id:"name",value:a.name,onChange:e=>p({...a,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l._,{htmlFor:"commissionRate",children:"Komisyon Oranı (%)"}),(0,s.jsx)(o.I,{id:"commissionRate",type:"number",value:a.commissionRate,onChange:e=>p({...a,commissionRate:Number(e.target.value)})})]}),(0,s.jsx)(i.z,{onClick:()=>{a.name&&a.commissionRate&&(t([...e,{...a,id:Date.now(),balance:0}]),p({name:"",commissionRate:0}),x(!1),(0,u.Am)({title:"Başarılı",description:"İş ortağı başarıyla eklendi.",duration:3e3}))},children:"İş Ortağı Ekle"})]})]})]}),(0,s.jsx)(d.u_,{open:h,onOpenChange:v,children:(0,s.jsxs)(d.hz,{children:[(0,s.jsx)(d.xB,{children:(0,s.jsx)(d.r6,{children:"İş Ortağını Sil"})}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("p",{children:"Bu iş ortağını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."})}),(0,s.jsxs)(d.mz,{children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>v(!1),children:"İptal"}),(0,s.jsx)(i.z,{variant:"destructive",onClick:()=>{b&&(t(e.filter(e=>e.id!==b)),v(!1),y(null),(0,u.Am)({title:"Başarılı",description:"İş ortağı başarıyla silindi.",duration:3e3}))},children:"Sil"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>{var t;return(0,s.jsxs)(c.E.div,{whileHover:{scale:1.05},className:"p-4 bg-white shadow-lg rounded-lg relative",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),j===e.id?(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(o.I,{type:"number",value:S,onChange:e=>k(Number(e.target.value)),className:"w-full mb-2"}),(0,s.jsx)(i.z,{onClick:()=>w(e.id),children:"G\xfcncelle"})]}):(0,s.jsxs)("p",{children:["Komisyon Oranı: %",e.commissionRate]}),(0,s.jsxs)("p",{children:["Bakiye: ₺",(null!==(t=e.balance)&&void 0!==t?t:0).toFixed(2)]}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,s.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>{N(e.id),k(e.commissionRate)},children:(0,s.jsx)(m,{className:"h-4 w-4"})}),(0,s.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>O(e.id),children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})})]})]},e.id)})})]})}},2869:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(7437),n=a(2265),r=a(7053),i=a(535),o=a(4508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:a})),ref:t,...c})});d.displayName="Button"},5186:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var s=a(7437),n=a(2265),r=a(4508);let i=n.forwardRef((e,t)=>{let{className:a,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},6815:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var s=a(7437),n=a(2265),r=a(6394),i=a(535),o=a(4508);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,o.cn)(l(),a),...n})});d.displayName=r.f.displayName},4430:function(e,t,a){"use strict";a.d(t,{hz:function(){return m},iq:function(){return d},mz:function(){return p},r6:function(){return g},u_:function(){return l},xB:function(){return f}});var s=a(7437),n=a(2265),r=a(9027),i=a(2489),o=a(4508);let l=r.fC,d=r.xz,c=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});u.displayName=r.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="ModalHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="ModalFooter";let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});g.displayName=r.Dx.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})}).displayName=r.dk.displayName},7992:function(e,t,a){"use strict";a.d(t,{Am:function(){return c}}),a(2265);let s=0,n=new Map,r=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function d(e){l=i(l,e),o.forEach(e=>{e(l)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||n()}}}),{id:a,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(1994),n=a(3335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[569,243,481,248,971,117,744],function(){return e(e.s=9795)}),_N_E=e.O()}]);